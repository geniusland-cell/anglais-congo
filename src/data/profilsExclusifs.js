// src/data/profilsExclusifs.js
export const profilsExclusifs = {
  commercant: {
    titre: "CommerÃ§ant des MarchÃ©s Congolais",
    description: "NÃ©gocier comme un vrai Congolais",
    icon: "ðŸ›ï¸",
    phrases: [
      {
        id: 1,
        fr: "Mon frÃ¨re, fais-moi un prix congolais !",
        en: "My brother, give me a Congolese price!",
        tips: "Utilise 'mon frÃ¨re/ma sÅ“ur' pour crÃ©er une connexion",
      },
      {
        id: 2,
        fr: "Je suis un client habituÃ© de ce marchÃ©",
        en: "I'm a regular customer of this market",
        tips: "Montre que tu connais les coutumes locales",
      },
      {
        id: 3,
        fr: "Le produit vient d'oÃ¹ ? De Kin ou de Brazza ?",
        en: "Where is the product from? Kinshasa or Brazzaville?",
        tips: "Montre ton intÃ©rÃªt pour l'origine des produits",
      },
      {
        id: 4,
        fr: "C'est le dernier prix ? Je prends en gros",
        en: "Is this the final price? I'm buying in bulk",
        tips: "NÃ©gocie en mentionnant un achat en quantitÃ©",
      },
      {
        id: 5,
        fr: "Tu vois, je viens directement Ã  toi",
        en: "You see, I came directly to you",
        tips: "Souligne ta loyautÃ© pour obtenir un meilleur prix",
      },
      {
        id: 6,
        fr: "Aujourd'hui c'est la fÃªte, fais-moi plaisir",
        en: "Today is a celebration, make me happy",
        tips: "Utilise les Ã©vÃ©nements pour nÃ©gocier",
      },
      {
        id: 7,
        fr: "Je reviendrai avec mes amis",
        en: "I'll come back with my friends",
        tips: "Promettre du business futur",
      },
      {
        id: 8,
        fr: "Le produit est frais ? Il vient d'arriver ?",
        en: "Is the product fresh? Did it just arrive?",
        tips: "Questionne la qualitÃ© pour justifier ton prix",
      },
      {
        id: 9,
        fr: "On se comprend entre Congolais",
        en: "We understand each other as Congolese",
        tips: "CrÃ©e un lien national pour la nÃ©gociation",
      },
      {
        id: 10,
        fr: "Je paie cash, pas de crÃ©dit",
        en: "I pay cash, no credit",
        tips: "Le cash est roi dans les marchÃ©s",
      },
    ],
  },

  etudiant: {
    titre: "Ã‰tudiant des Campus Congolais",
    description: "Vie Ã©tudiante au Congo",
    icon: "ðŸŽ“",
    phrases: [
      {
        id: 11,
        fr: "Le prof a reportÃ© le cours Ã  demain",
        en: "The teacher postponed the class to tomorrow",
        tips: "Les reports de cours sont frÃ©quents",
      },
      {
        id: 12,
        fr: "On se retrouve Ã  la bibliothÃ¨que de l'UniversitÃ© Marien Ngouabi ?",
        en: "Shall we meet at Marien Ngouabi University library?",
        tips: "Utilise les lieux emblÃ©matiques",
      },
      {
        id: 13,
        fr: "J'ai un exposÃ© sur la culture congolaise",
        en: "I have a presentation on Congolese culture",
        tips: "Sujets locaux valorisÃ©s",
      },
      {
        id: 14,
        fr: "Les notes sont tombÃ©es sur le campus",
        en: "The grades are out on campus",
        tips: "Expression locale pour les rÃ©sultats",
      },
      {
        id: 15,
        fr: "On organise une soirÃ©e Ã  Bacongo ce weekend",
        en: "We're organizing a party in Bacongo this weekend",
        tips: "Vie sociale Ã©tudiante",
      },
    ],
  },

  transport: {
    titre: "Transport dans les Rues de Brazzaville",
    description: "Prendre les transports en commun",
    icon: "ðŸš—",
    phrases: [
      {
        id: 16,
        fr: "Chauffeur, arrÃªte au Rond-Point de la Poste",
        en: "Driver, stop at Post Office Roundabout",
        tips: "Points de repÃ¨re connus",
      },
      {
        id: 17,
        fr: "Combien pour aller Ã  TalangaÃ¯ ?",
        en: "How much to go to TalangaÃ¯?",
        tips: "Quartiers spÃ©cifiques de Brazzaville",
      },
      {
        id: 18,
        fr: "Tu passes par le Centre-ville ?",
        en: "Are you going through downtown?",
        tips: "VÃ©rifier l'itinÃ©raire",
      },
      {
        id: 19,
        fr: "Attention, il y a des nids-de-poule",
        en: "Watch out, there are potholes",
        tips: "RÃ©alitÃ© des routes congolaises",
      },
      {
        id: 20,
        fr: "DÃ©pose-moi au marchÃ© Total",
        en: "Drop me off at Total market",
        tips: "MarchÃ©s comme points de repÃ¨re",
      },
    ],
  },

  parent: {
    titre: "Parent Congolais",
    description: "Vie familiale au Congo",
    icon: "ðŸ‘¨â€ðŸ‘©â€ðŸ‘§â€ðŸ‘¦",
    phrases: [
      {
        id: 21,
        fr: "As-tu saluÃ© tes grands-parents ?",
        en: "Did you greet your grandparents?",
        tips: "Respect des aÃ®nÃ©s trÃ¨s important",
      },
      {
        id: 22,
        fr: "On va Ã  l'Ã©glise dimanche",
        en: "We're going to church on Sunday",
        tips: "Vie religieuse familiale",
      },
      {
        id: 23,
        fr: "Mange ton fufu et pondu",
        en: "Eat your fufu and pondu",
        tips: "Plats traditionnels congolais",
      },
      {
        id: 24,
        fr: "Sois sage Ã  l'Ã©cole",
        en: "Be good at school",
        tips: "Ã‰ducation valorisÃ©e",
      },
    ],
  },
};

// Fonction audio amÃ©liorÃ©e avec voix plus humaine et naturelle
export const parlerAvecStyle = (texte, langue = "fr") => {
  if ("speechSynthesis" in window) {
    const synth = window.speechSynthesis;

    // ArrÃªter toute parole en cours
    synth.cancel();

    // VÃ©rifier si dÃ©jÃ  en train de parler
    if (synth.speaking) {
      console.log("DÃ©jÃ  en train de parler, annulation");
      return;
    }

    const utterance = new SpeechSynthesisUtterance(texte);

    // ParamÃ¨tres voix naturelle et humaine
    utterance.lang = langue === "fr" ? "fr-FR" : "en-US";
    utterance.rate = 0.82; // Rythme naturel de conversation
    utterance.pitch = 1.05; // LÃ©gÃ¨rement plus chaleureux
    utterance.volume = 0.92; // Volume confortable

    // Chercher les meilleures voix disponibles
    const voices = synth.getVoices();
    const preferredVoices = {
      "fr-FR": ["Google franÃ§ais", "Natural", "Julie", "Virginie", "Audrey"],
      "en-US": [
        "Google US English",
        "Samantha",
        "Alex",
        "Karen",
        "Microsoft David",
      ],
    };

    const targetLang = langue === "fr" ? "fr-FR" : "en-US";
    let bestVoice = null;

    // Chercher la voix idÃ©ale par ordre de prÃ©fÃ©rence
    for (const voiceName of preferredVoices[targetLang]) {
      const voice = voices.find(
        (v) => v.lang === targetLang && v.name.includes(voiceName)
      );
      if (voice) {
        bestVoice = voice;
        console.log("Voix sÃ©lectionnÃ©e:", voice.name);
        break;
      }
    }

    // Fallback : premiÃ¨re voix disponible dans la langue
    if (!bestVoice) {
      bestVoice = voices.find((v) => v.lang === targetLang);
      if (bestVoice) {
        console.log("Voix fallback:", bestVoice.name);
      }
    }

    if (bestVoice) {
      utterance.voice = bestVoice;
    }

    // Gestion avancÃ©e des Ã©vÃ©nements
    utterance.onstart = () => {
      console.log("Lecture audio dÃ©marrÃ©e");
      // Feedback visuel
      const buttons = document.querySelectorAll(".btn-audio");
      buttons.forEach((btn) => {
        btn.classList.add("playing");
        btn.disabled = true;
      });
    };

    utterance.onend = () => {
      console.log("Lecture audio terminÃ©e");
      setTimeout(() => {
        const buttons = document.querySelectorAll(".btn-audio");
        buttons.forEach((btn) => {
          btn.classList.remove("playing");
          btn.disabled = false;
        });
      }, 200);
    };

    utterance.onerror = (event) => {
      console.error("Erreur audio:", event);
      const buttons = document.querySelectorAll(".btn-audio");
      buttons.forEach((btn) => {
        btn.classList.remove("playing");
        btn.disabled = false;
      });

      // Fallback utilisateur
      alert(`ðŸ”Š ${langue.toUpperCase()}: ${texte}`);
    };

    // DÃ©lai pour la stabilitÃ©
    setTimeout(() => {
      try {
        synth.speak(utterance);
      } catch (error) {
        console.error("Erreur critique:", error);
        alert(`ðŸŽ§ ${texte}`);
      }
    }, 120);
  } else {
    // Fallback pour navigateurs sans synthÃ¨se vocale
    const msg = `ðŸ”Š ${langue.toUpperCase()}: ${texte}`;
    console.log(msg);
    alert(msg);
  }
};
